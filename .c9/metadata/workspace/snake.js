{"changed":true,"filter":false,"title":"snake.js","tooltip":"/snake.js","value":"$(document).ready(function(){\n    \n\t// Make the canvas\n\tvar canvas = $(\"#canvas\")[0];\n\tvar ctx = canvas.getContext(\"2d\");\n\t\n\t// Set the width and height\n\tvar w = $(\"#canvas\").width();\n\tvar h = $(\"#canvas\").height();\n\t\n\t// Snake cells width size\n\tvar cellWidth = 10;\n\t\n\t// Direction of the snake\n\tvar direction;\n\t\n\t// Food\n\tvar food;\n\t\n\t// Score to be displayed\n\tvar score;\n\t\n\t\n\t\n\tfunction init()\n\t{\n\t    // Set the default direction to right\n\t\tdirection = \"right\";\n\t\t\n\t\t// Set score to 0\n\t\tscore = 0;\n\t\t\n\t\t// Call the function creare_snake()\n\t\tcreate_snake();\n\t\t\n\t\t// Call the function create_food()\n\t\tcreate_food();\n\t\t\n\t\t\n\t\tif(typeof game_loop != \"undefined\") \n\t\t{\n\t\t    clearInterval(game_loop);\n\t\t}\n\t\t\n\t\t// Move the snake using a timer which will trigger the paint function every 60ms\n    \tgame_loop = setInterval(paint, 60);\n\t}\n\t\n\t// Call init()\n\tinit();\n\t\n\t\n\t/*  Create the snake */\n\t\n\t// Array of cells to make up the snake\n\tvar snake_array;\n\t\n\t\n\t// Function for creating the snake\n\tfunction create_snake()\n\t{\n\t    //Length of the snake\n\t\tvar length = 5;\n\t\t\n\t\t//Empty array to start with\n\t\tsnake_array = [];\n\t\t\n\t\t// Loop\n\t\tfor(var i = length-1; i>=0; i--)\n\t\t{\n\t\t\t// This will create a horizontal snake starting from the top left\n\t\t\tsnake_array.push({x: i, y:0});\n\t\t}\n\t}\n\t\n\t\n\t// Function to create the food\n\tfunction create_food()\n\t{\n\t    \n\t    //This will create a cell with x/y between 0-44\n\t\t//Because there are 45(450/10) positions accross the rows and columns\n\t\tfood = {\n\t\t\tx: Math.round(Math.random()*(w-cellWidth)/cellWidth), \n\t\t\ty: Math.round(Math.random()*(h-cellWidth)/cellWidth), \n\t\t};\n\t\t\n\t\t\n\t}\n\t\n\t\n\t\n\t// Paint the snake\n\tfunction paint()\n\t{\n\t    \n\t    \n\t    // To avoid the snake trail you need to paint the BG on every frame\n\t\t// Paint the canvas now\n\t\tctx.fillStyle = \"white\";\n\t\tctx.fillRect(0, 0, w, h);\n\t\tctx.strokeStyle = \"black\";\n\t\tctx.strokeRect(0, 0, w, h);\n\t    \n\t    /* The movement code for the snake to come here.\n\t     * Remove the tail cell and place it infront of the head cell.\n\t     */\n\t\t\n\t\t// Get the head cell\n\t\tvar nx = snake_array[0].x;\n\t\tvar ny = snake_array[0].y;\n\t\t\n\t\t// Increment it to get the new head position\n\t\t// So add proper direction based movement.\n\t\tif(direction == \"right\") \n\t\t{\n\t\t    nx++;\n\t\t}\n\t\telse if(direction == \"left\")\n\t\t{\n\t\t    nx--;\n\t\t}\n\t\telse if(direction == \"up\") \n\t\t{\n\t\t    ny--;\n\t\t}\n\t\telse if(direction == \"down\")\n\t\t{\n\t\t    ny++;\n\t\t}\n\t\t\n\t\t\n\t\t// Checks to see if gameover.\n\t\t// This will restart the game if the snake hits the wall or\n\t\t// if the head of the snake bumps into its body\n\t\tif(nx == -1 || nx == w/cellWidth || ny == -1 || ny == h/cellWidth || check_collision(nx, ny, snake_array))\n\t\t{\n\t\t\t// Restart the game\n\t\t\tinit();\n\t\t\t\n\t\t\treturn;\n\t\t}\n\t\t\n\t\t// Code for snake eating the food\n\t\t// If the new head position matches with that of the food, then\n\t\t// Create a new head instead of moving the tail\n\t\tif(nx == food.x && ny == food.y)\n\t\t{\n\t\t    // Set tail\n\t\t\tvar tail = {x: nx, y: ny};\n\t\t\t\n\t\t\t// Add 1 to score\n\t\t\tscore++;\n\t\t\t\n\t\t\t// Create the new food\n\t\t\tcreate_food();\n\t\t}\n\t\telse\n\t\t{\n\t\t\t// Removes the last cell\n\t\t    var tail = snake_array.pop();\n\t\t\n\t\t    // Set the tail.x to nx and tail.y to ny\n\t\t    tail.x = nx;\n\t\t    tail.y = ny;\n\t\t}\n\t\t\n\t\t\n\t\t\n\t\t// Puts back the tail as the first cell\n\t\tsnake_array.unshift(tail);\n\t\t\n\t\t\n\t    \n\t    // Loop through the snake array\n\t\tfor(var i = 0; i < snake_array.length; i++)\n\t\t{\n\t\t    // Current snake index\n\t\t\tvar snakeTemp = snake_array[i];\n\t\t\t\n\t\t\t// Call the function paint_cell to paint the snake\n\t\t\tpaint_cell(snakeTemp.x, snakeTemp.y);\n\t\t\t\n\t\t}\n\t\t\n\t\t// Call the fucntion paint_cell to paint the food\n\t\tpaint_cell(food.x, food.y);\n\t\t\n\t\t// Paint the users score\n\t\tvar score_text = \"Score: \" + score;\n\t\tctx.fillText(score_text, 5, h-5);\n\t}\n\t\n\t// Function painting a cell\n\tfunction paint_cell(x,y)\n\t{\n\t    // Paint blue cells the size of cellWidth variable\n\t\tctx.fillStyle = \"blue\";\n\t\tctx.fillRect(x * cellWidth, y * cellWidth, cellWidth, cellWidth);\n\t\tctx.strokeStyle = \"white\";\n\t\tctx.strokeRect(x * cellWidth, y * cellWidth, cellWidth, cellWidth);\n\t}\n\t\n\t\n\t//This function checks if the provided x/y coordinates exist in an array of cells or not\n\tfunction check_collision(x, y, array)\n\t{\n\t    // Loop through the array\n\t\tfor(var i = 0; i < array.length; i++)\n\t\t{\n\t\t    // If the array index i equals x/y\n\t\t\tif(array[i].x == x && array[i].y == y)\n\t\t\t{\n\t\t\t    // Return true\n\t\t\t    return true;\n\t\t\t}\n\t\t}\n\t\t\n\t\t// Return false\n\t\treturn false;\n\t}\n\t\n\t\n\t// Function for the keyboard controls\n\t$(document).keydown(function(e){\n\t    \n\t    // Get the key\n\t\tvar key = e.which;\n\t\t\n\t\t// If key 37 is down and direction is not right\n\t\tif(key == \"37\" && direction != \"right\") \n\t\t{\n\t\t    // Set direction to left\n\t\t    direction = \"left\";\n\t\t}\n\t\t// If key 38 is down and direction is not down\n\t\telse if(key == \"38\" && direction != \"down\") \n\t\t{\n\t\t    // Set direction to up\n\t\t    direction = \"up\";\n\t\t}\n\t\t// If key 39 is down and direction is not left\n\t\telse if(key == \"39\" && direction != \"left\") \n\t\t{\n\t\t    // Set direction to right\n\t\t    direction = \"right\";\n\t\t}\n\t\t// If key 40 is down and direction is not up\n\t\telse if(key == \"40\" && direction != \"up\") \n\t\t{\n\t\t    // Set direction to down\n\t\t    direction = \"down\";\n\t\t}\n\t})\n\t\n\t\n\t\n\t\n})","undoManager":{"mark":88,"position":100,"stack":[[{"start":{"row":189,"column":17},"end":{"row":189,"column":18},"action":"insert","lines":["o"],"id":2503}],[{"start":{"row":189,"column":18},"end":{"row":189,"column":19},"action":"insert","lines":["r"],"id":2504}],[{"start":{"row":189,"column":19},"end":{"row":189,"column":20},"action":"insert","lines":["e"],"id":2505}],[{"start":{"row":189,"column":19},"end":{"row":189,"column":20},"action":"remove","lines":["e"],"id":2506}],[{"start":{"row":189,"column":18},"end":{"row":189,"column":19},"action":"remove","lines":["r"],"id":2507}],[{"start":{"row":189,"column":17},"end":{"row":189,"column":18},"action":"remove","lines":["o"],"id":2508}],[{"start":{"row":189,"column":16},"end":{"row":189,"column":17},"action":"remove","lines":["c"],"id":2509}],[{"start":{"row":189,"column":15},"end":{"row":189,"column":16},"action":"remove","lines":["s"],"id":2510}],[{"start":{"row":189,"column":15},"end":{"row":189,"column":16},"action":"insert","lines":["u"],"id":2511}],[{"start":{"row":189,"column":16},"end":{"row":189,"column":17},"action":"insert","lines":["s"],"id":2512}],[{"start":{"row":189,"column":17},"end":{"row":189,"column":18},"action":"insert","lines":["e"],"id":2513}],[{"start":{"row":189,"column":18},"end":{"row":189,"column":19},"action":"insert","lines":["r"],"id":2514}],[{"start":{"row":189,"column":19},"end":{"row":189,"column":20},"action":"insert","lines":["s"],"id":2515}],[{"start":{"row":189,"column":20},"end":{"row":189,"column":21},"action":"insert","lines":[" "],"id":2516}],[{"start":{"row":189,"column":21},"end":{"row":189,"column":22},"action":"insert","lines":["s"],"id":2517}],[{"start":{"row":189,"column":22},"end":{"row":189,"column":23},"action":"insert","lines":["c"],"id":2518}],[{"start":{"row":189,"column":23},"end":{"row":189,"column":24},"action":"insert","lines":["o"],"id":2519}],[{"start":{"row":189,"column":24},"end":{"row":189,"column":25},"action":"insert","lines":["r"],"id":2520}],[{"start":{"row":189,"column":25},"end":{"row":189,"column":26},"action":"insert","lines":["e"],"id":2521}],[{"start":{"row":189,"column":26},"end":{"row":190,"column":0},"action":"insert","lines":["",""],"id":2522},{"start":{"row":190,"column":0},"end":{"row":190,"column":2},"action":"insert","lines":["\t\t"]}],[{"start":{"row":190,"column":2},"end":{"row":190,"column":3},"action":"insert","lines":["v"],"id":2523}],[{"start":{"row":190,"column":3},"end":{"row":190,"column":4},"action":"insert","lines":["a"],"id":2524}],[{"start":{"row":190,"column":4},"end":{"row":190,"column":5},"action":"insert","lines":["r"],"id":2525}],[{"start":{"row":190,"column":5},"end":{"row":190,"column":6},"action":"insert","lines":[" "],"id":2526}],[{"start":{"row":190,"column":6},"end":{"row":190,"column":7},"action":"insert","lines":["s"],"id":2527}],[{"start":{"row":190,"column":7},"end":{"row":190,"column":8},"action":"insert","lines":["c"],"id":2528}],[{"start":{"row":190,"column":8},"end":{"row":190,"column":9},"action":"insert","lines":["o"],"id":2529}],[{"start":{"row":190,"column":9},"end":{"row":190,"column":10},"action":"insert","lines":["r"],"id":2530}],[{"start":{"row":190,"column":10},"end":{"row":190,"column":11},"action":"insert","lines":["e"],"id":2531}],[{"start":{"row":190,"column":11},"end":{"row":190,"column":12},"action":"insert","lines":["_"],"id":2532}],[{"start":{"row":190,"column":12},"end":{"row":190,"column":13},"action":"insert","lines":["t"],"id":2533}],[{"start":{"row":190,"column":13},"end":{"row":190,"column":14},"action":"insert","lines":["e"],"id":2534}],[{"start":{"row":190,"column":14},"end":{"row":190,"column":15},"action":"insert","lines":["x"],"id":2535}],[{"start":{"row":190,"column":15},"end":{"row":190,"column":16},"action":"insert","lines":["t"],"id":2536}],[{"start":{"row":190,"column":16},"end":{"row":190,"column":17},"action":"insert","lines":[" "],"id":2537}],[{"start":{"row":190,"column":17},"end":{"row":190,"column":18},"action":"insert","lines":["="],"id":2538}],[{"start":{"row":190,"column":18},"end":{"row":190,"column":19},"action":"insert","lines":[" "],"id":2539}],[{"start":{"row":190,"column":19},"end":{"row":190,"column":21},"action":"insert","lines":["\"\""],"id":2540}],[{"start":{"row":190,"column":20},"end":{"row":190,"column":21},"action":"insert","lines":["S"],"id":2541}],[{"start":{"row":190,"column":21},"end":{"row":190,"column":22},"action":"insert","lines":["c"],"id":2542}],[{"start":{"row":190,"column":22},"end":{"row":190,"column":23},"action":"insert","lines":["o"],"id":2543}],[{"start":{"row":190,"column":23},"end":{"row":190,"column":24},"action":"insert","lines":["r"],"id":2544}],[{"start":{"row":190,"column":24},"end":{"row":190,"column":25},"action":"insert","lines":["e"],"id":2545}],[{"start":{"row":190,"column":25},"end":{"row":190,"column":26},"action":"insert","lines":[":"],"id":2546}],[{"start":{"row":190,"column":26},"end":{"row":190,"column":27},"action":"insert","lines":[" "],"id":2547}],[{"start":{"row":190,"column":28},"end":{"row":190,"column":29},"action":"insert","lines":[" "],"id":2548}],[{"start":{"row":190,"column":29},"end":{"row":190,"column":30},"action":"insert","lines":["+"],"id":2549}],[{"start":{"row":190,"column":30},"end":{"row":190,"column":31},"action":"insert","lines":[" "],"id":2550}],[{"start":{"row":190,"column":31},"end":{"row":190,"column":32},"action":"insert","lines":["s"],"id":2551}],[{"start":{"row":190,"column":32},"end":{"row":190,"column":33},"action":"insert","lines":["c"],"id":2552}],[{"start":{"row":190,"column":33},"end":{"row":190,"column":34},"action":"insert","lines":["o"],"id":2553}],[{"start":{"row":190,"column":34},"end":{"row":190,"column":35},"action":"insert","lines":["r"],"id":2554}],[{"start":{"row":190,"column":35},"end":{"row":190,"column":36},"action":"insert","lines":["e"],"id":2555}],[{"start":{"row":190,"column":36},"end":{"row":190,"column":37},"action":"insert","lines":["l"],"id":2556}],[{"start":{"row":190,"column":36},"end":{"row":190,"column":37},"action":"remove","lines":["l"],"id":2557}],[{"start":{"row":190,"column":36},"end":{"row":190,"column":37},"action":"insert","lines":[";"],"id":2558}],[{"start":{"row":190,"column":37},"end":{"row":191,"column":0},"action":"insert","lines":["",""],"id":2559},{"start":{"row":191,"column":0},"end":{"row":191,"column":2},"action":"insert","lines":["\t\t"]}],[{"start":{"row":191,"column":2},"end":{"row":191,"column":3},"action":"insert","lines":["c"],"id":2560}],[{"start":{"row":191,"column":3},"end":{"row":191,"column":4},"action":"insert","lines":["t"],"id":2561}],[{"start":{"row":191,"column":4},"end":{"row":191,"column":5},"action":"insert","lines":["x"],"id":2562}],[{"start":{"row":191,"column":5},"end":{"row":191,"column":6},"action":"insert","lines":["."],"id":2563}],[{"start":{"row":191,"column":6},"end":{"row":191,"column":7},"action":"insert","lines":["f"],"id":2564}],[{"start":{"row":191,"column":7},"end":{"row":191,"column":8},"action":"insert","lines":["i"],"id":2565}],[{"start":{"row":191,"column":8},"end":{"row":191,"column":9},"action":"insert","lines":["l"],"id":2566}],[{"start":{"row":191,"column":9},"end":{"row":191,"column":10},"action":"insert","lines":["l"],"id":2567}],[{"start":{"row":191,"column":10},"end":{"row":191,"column":11},"action":"insert","lines":["T"],"id":2568}],[{"start":{"row":191,"column":11},"end":{"row":191,"column":12},"action":"insert","lines":["e"],"id":2569}],[{"start":{"row":191,"column":12},"end":{"row":191,"column":13},"action":"insert","lines":["x"],"id":2570}],[{"start":{"row":191,"column":13},"end":{"row":191,"column":14},"action":"insert","lines":["t"],"id":2571}],[{"start":{"row":191,"column":14},"end":{"row":191,"column":16},"action":"insert","lines":["()"],"id":2572}],[{"start":{"row":191,"column":15},"end":{"row":191,"column":16},"action":"insert","lines":["s"],"id":2573}],[{"start":{"row":191,"column":16},"end":{"row":191,"column":17},"action":"insert","lines":["c"],"id":2574}],[{"start":{"row":191,"column":17},"end":{"row":191,"column":18},"action":"insert","lines":["o"],"id":2575}],[{"start":{"row":191,"column":18},"end":{"row":191,"column":19},"action":"insert","lines":["r"],"id":2576}],[{"start":{"row":191,"column":19},"end":{"row":191,"column":20},"action":"insert","lines":["e"],"id":2577}],[{"start":{"row":191,"column":20},"end":{"row":191,"column":21},"action":"insert","lines":["_"],"id":2578}],[{"start":{"row":191,"column":21},"end":{"row":191,"column":22},"action":"insert","lines":["t"],"id":2579}],[{"start":{"row":191,"column":22},"end":{"row":191,"column":23},"action":"insert","lines":["e"],"id":2580}],[{"start":{"row":191,"column":23},"end":{"row":191,"column":24},"action":"insert","lines":["x"],"id":2581}],[{"start":{"row":191,"column":24},"end":{"row":191,"column":25},"action":"insert","lines":["t"],"id":2582}],[{"start":{"row":191,"column":25},"end":{"row":191,"column":26},"action":"insert","lines":[","],"id":2583}],[{"start":{"row":191,"column":26},"end":{"row":191,"column":27},"action":"insert","lines":[" "],"id":2584}],[{"start":{"row":191,"column":27},"end":{"row":191,"column":28},"action":"insert","lines":["5"],"id":2585}],[{"start":{"row":191,"column":28},"end":{"row":191,"column":29},"action":"insert","lines":[","],"id":2586}],[{"start":{"row":191,"column":29},"end":{"row":191,"column":30},"action":"insert","lines":[" "],"id":2587}],[{"start":{"row":191,"column":30},"end":{"row":191,"column":31},"action":"insert","lines":["h"],"id":2588}],[{"start":{"row":191,"column":31},"end":{"row":191,"column":32},"action":"insert","lines":["-"],"id":2589}],[{"start":{"row":191,"column":32},"end":{"row":191,"column":33},"action":"insert","lines":["5"],"id":2590}],[{"start":{"row":191,"column":34},"end":{"row":191,"column":35},"action":"insert","lines":[";"],"id":2591}],[{"start":{"row":50,"column":1},"end":{"row":51,"column":0},"action":"insert","lines":["",""],"id":2592},{"start":{"row":51,"column":0},"end":{"row":51,"column":1},"action":"insert","lines":["\t"]}],[{"start":{"row":169,"column":1},"end":{"row":169,"column":2},"action":"remove","lines":["\t"],"id":2593}],[{"start":{"row":169,"column":0},"end":{"row":169,"column":1},"action":"remove","lines":["\t"],"id":2594}],[{"start":{"row":168,"column":2},"end":{"row":169,"column":0},"action":"remove","lines":["",""],"id":2595}],[{"start":{"row":168,"column":1},"end":{"row":168,"column":2},"action":"remove","lines":["\t"],"id":2596}],[{"start":{"row":168,"column":0},"end":{"row":168,"column":1},"action":"remove","lines":["\t"],"id":2597}],[{"start":{"row":167,"column":2},"end":{"row":168,"column":0},"action":"remove","lines":["",""],"id":2598}],[{"start":{"row":113,"column":46},"end":{"row":113,"column":47},"action":"remove","lines":["w"],"id":2599}],[{"start":{"row":113,"column":45},"end":{"row":113,"column":46},"action":"remove","lines":["o"],"id":2600}],[{"start":{"row":113,"column":44},"end":{"row":113,"column":45},"action":"remove","lines":["n"],"id":2601}],[{"start":{"row":113,"column":43},"end":{"row":113,"column":44},"action":"remove","lines":[" "],"id":2602}],[{"start":{"row":113,"column":43},"end":{"row":113,"column":44},"action":"insert","lines":["."],"id":2603}]]},"ace":{"folds":[],"scrolltop":1800,"scrollleft":0,"selection":{"start":{"row":142,"column":2},"end":{"row":142,"column":2},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1465925272440}